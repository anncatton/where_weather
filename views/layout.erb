<!doctype html>
<html>
	<head>
		<link href="/css/global.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<%= yield %>
	</body>
		<!-- <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script> -->
		<!--<script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js" type="text/javascript"></script> -->
		<script src="/js/lib/jquery-2.1.4.js"></script>
		<script src="/js/global.js"></script>
		<script>
			function initMap() {

		    var centralLatLng = {lat: 49.2599126, lng: -123.1340487 };
		    var matchMarkers = []

				var worldMap = new google.maps.Map(document.getElementById('map'), {
					zoom: 1,
					center: centralLatLng
				});

				// this needs to run on a forEach loop
				// also, have it check there are matches first, then do the forEach
				function getMatchData() {
					console.log("here");
					
					$.get('/map_markers', function(result) {
						console.log(result);
					});
				}

				function mapEachMatch() {

				}

        function createMarker(position, map, title) {       
          var marker = new google.maps.Marker({
            position: position,
            map: worldMap,
            title: title, // station name and country
          });
          markers.push(marker);
          return marker; // why do i need to return the marker if i', putting it in the markers array?
        }

        $('#map').on('click', function() {
        	console.log("You clicked on the map!");
        	getMatchData();
        });
			}
		</script>
		<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWKs-3M99WIwFFFocWmVct7NHbzCe6Ht8&callback=initMap"></script>

</html>